/*!
 * remark (http://getbootstrapadmin.com/remark)
 * Copyright 2015 amazingsurge
 * Licensed under the Themeforest Standard Licenses
 */
!function(t,e,o){"use strict";e.AppMessage=App.extend({handleScrollable:function(){var t=o(".list-scrollable-body");t.asScrollable({namespace:"scrollable",skin:"scrollable",contentSelector:">",containerSelector:">",direction:"vertical"}),o(".page-aside-switch").one("click",function(){o(".page-aside").on("transitionend",function(){t.data("asScrollable").update()})}),o(".list-group-item").on("click",function(){o(this).siblings().removeClass("active"),o(this).addClass("active")})},scrollChatsToBottom:function(){var t=o(".chats-wrap"),e=t.height(),a=o(".chats").outerHeight(),n=o("#historyBtn").outerHeight();t.scrollTop(a+n-e)},handleResize:function(){var t=this;o(e).on("resize",function(){t.scrollChatsToBottom()})},handleTalking:function(){var t=this,e=o(".chats-wrap"),a=o(".message-input textarea"),n=o(".message-input-wrap");autosize(o(".message-input textarea")),a.on("autosize:resized",function(){var o=n.outerHeight();e.css("height","calc(100% - "+o+"px)"),t.scrollChatsToBottom()}),o(".message-input-btn>button").on("click",function(){var e=o(".message-input>.form-control").val(),a=o("<div class='chat-content'><p>"+e+"</p></div>");e.length>0?(o(".chat").last().find(".chat-body").append(a),o(".message-input>.form-control").attr("placeholder",""),o(".message-input>.form-control").val("")):o(".message-input>.form-control").attr("placeholder","type text here..."),o(".message-input>.form-control").focus(),t.scrollChatsToBottom()})},run:function(t){this.handleScrollable(),this.scrollChatsToBottom(),this.handleResize(),this.handleTalking()}}),o(t).ready(function(t){AppMessage.run()})}(document,window,jQuery);